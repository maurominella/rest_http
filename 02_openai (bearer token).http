# https://learn.microsoft.com/en-us/azure/ai-services/agents/quickstart?pivots=rest-api
# az account get-access-token --resource https://cognitiveservices.azure.com/

@token = eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiJodHRwczovL2NvZ25pdGl2ZXNlcnZpY2VzLmF6dXJlLmNvbS8iLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC8zYWQwYjkwNS0zNGFiLTQxMTYtOTNkOS1jMWRjYzJkMzVhZjYvIiwiaWF0IjoxNzQ1NzkxMDc1LCJuYmYiOjE3NDU3OTEwNzUsImV4cCI6MTc0NTc5NTQ0MSwiYWNyIjoiMSIsImFpbyI6IkFYUUFpLzhaQUFBQVNTcjhUak9sTXhXMTR0M295YWV4MlRFbnhZWUJ3MSs5TXJhYUxFZmViMSsyTHZoU1NOcTRLcjhDYnBpQUNhbGZUMG1oVUV6OWcwRXBjRU9uNnZyOWlMbjNHQzg4VGtmbnhxYjRJejdPbGdMZFpxeHNsYmQ0dmkyeC9mYlcwTE8vamNFcGFJei9JdjlFY09zMFdVdWdMdz09IiwiYW1yIjpbInB3ZCIsInJzYSIsIm1mYSJdLCJhcHBpZCI6IjA0YjA3Nzk1LThkZGItNDYxYS1iYmVlLTAyZjllMWJmN2I0NiIsImFwcGlkYWNyIjoiMCIsImRldmljZWlkIjoiYTA2ODFhN2ItMDcyOC00MjQ1LWIwMWEtZjVjYTdkNmRlOGVlIiwiZmFtaWx5X25hbWUiOiJNaW5lbGxhIiwiZ2l2ZW5fbmFtZSI6Ik1hdXJvIiwiZ3JvdXBzIjpbImMzZGE0MjkxLTlhMTgtNDQyOS1hNWY5LTk5YWIxYjA1ODc1MyIsIjlkNTZmZjRlLTYyOTMtNDBjNS04NmZkLWVmMjg1YWU5ZjU2NCJdLCJpZHR5cCI6InVzZXIiLCJpcGFkZHIiOiI5My41Ni4xMDQuMjQ5IiwibmFtZSI6Ik1hdXJvIE1pbmVsbGEiLCJvaWQiOiI2OGM0YmYxZS03YzQ5LTRmOTItYThmNS0wZDMzMTgzMWM1MWEiLCJwdWlkIjoiMTAwMzIwMDNBQUZDOThDOSIsInB3ZF91cmwiOiJodHRwczovL3BvcnRhbC5taWNyb3NvZnRvbmxpbmUuY29tL0NoYW5nZVBhc3N3b3JkLmFzcHgiLCJyaCI6IjEuQWIwQUJiblFPcXMwRmtHVDJjSGN3dE5hOXBBaU1YM0lLRHhIb08yT1UzU2JiVzBEQVVLOUFBLiIsInNjcCI6InVzZXJfaW1wZXJzb25hdGlvbiIsInNpZCI6IjAwNDEyZjk5LThkMzQtNzIwZS03Mzc5LTc3Yzk0MDZkMzBmYSIsInN1YiI6IldqekZtdTF3MzBBUlNsS25PdlM4cXdxT3pmOFNZYWRLRzF2Q0tTaTV2aTQiLCJ0aWQiOiIzYWQwYjkwNS0zNGFiLTQxMTYtOTNkOS1jMWRjYzJkMzVhZjYiLCJ1bmlxdWVfbmFtZSI6Im1hdXJvLm1pbmVsbGFATW5nRW52TUNBUDg4MzY1Mi5vbm1pY3Jvc29mdC5jb20iLCJ1cG4iOiJtYXVyby5taW5lbGxhQE1uZ0Vudk1DQVA4ODM2NTIub25taWNyb3NvZnQuY29tIiwidXRpIjoiUGJZYlpWWmVaVVcxM1hHQXg0VHlBQSIsInZlciI6IjEuMCIsIndpZHMiOlsiNjJlOTAzOTQtNjlmNS00MjM3LTkxOTAtMDEyMTc3MTQ1ZTEwIiwiMTU4YzA0N2EtYzkwNy00NTU2LWI3ZWYtNDQ2NTUxYTZiNWY3IiwiYjc5ZmJmNGQtM2VmOS00Njg5LTgxNDMtNzZiMTk0ZTg1NTA5Il0sInhtc19pZHJlbCI6IjIwIDEifQ.OBgrHiu-u4n9Af5tcwwJl9GPEdMmKxQeodYta1m0qzMheGPLtZ5DCBK8V_YYIL3Bez9Nfa2BkreihU0ewPugXFzZK9fG3R-4wSu6XR-3nOGrlS1ob32ZrIRLCGHedxUQ9rMIsxWeQHYB9RZseWZJEKFQGvRBvSXc6aIVcXoQVUm7Gyu7NIwYTst9rIUzrFwn-xuFKzjivFf-8bLB8WdldMtOVs3-yAbS64i_l8wl0UMBnqglme6kj-QLI4rRAiP3ojvWjeAgfdwuPonrwatnIYOo3Ai054jP0XSswopjHUQZ4ClGaKXMVhbp9pkn-EEvMHi3ecYryXw_5B2oOa4nkw

@azure_deployment_name = gpt-4.1
@openai_api_version = 2025-03-01-preview

###
# Invoking OpenAI
POST {{openai_endpoint}}/openai/deployments/{{azure_deployment_name}}/chat/completions?api-version={{openai_api_version}}
Authorization: Bearer {{token}}
Content-Type: application/json

{
    "messages": [
        {
            "role": "user",
            "content": "What is a meaning function? Please summarize in less than 20 words."
        }
    ]
}