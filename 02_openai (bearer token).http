# https://learn.microsoft.com/en-us/azure/ai-services/agents/quickstart?pivots=rest-api
# az account get-access-token --resource https://cognitiveservices.azure.com/

@token = eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiJodHRwczovL2NvZ25pdGl2ZXNlcnZpY2VzLmF6dXJlLmNvbS8iLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC8zYWQwYjkwNS0zNGFiLTQxMTYtOTNkOS1jMWRjYzJkMzVhZjYvIiwiaWF0IjoxNzQ1NDI4MjI2LCJuYmYiOjE3NDU0MjgyMjYsImV4cCI6MTc0NTQzMzE4MywiYWNyIjoiMSIsImFpbyI6IkFZUUFlLzhaQUFBQVBkMDVvRTFDRGN1MWhDSTd0ZXNpRzh5WkVPRmYwcnN6c3NTdXRHenlrb0R3ZjNGeFgxVjVrNFp2S2NmNlJIYmVTdmpPT1NIT1ltWTFoNmdob1BSMWo3MEo1YlNiK21xTHhmSkd0QUdxRTRENW83R21icXdPSGFkbWdHSW5HbnVyTi8ya2JITUVtRU9wd1NOd0laeTBrNHBnKzVMazg3ZHA3a0ZtU1M3ZXRiYz0iLCJhbXIiOlsicHdkIiwicnNhIiwibWZhIl0sImFwcGlkIjoiMDRiMDc3OTUtOGRkYi00NjFhLWJiZWUtMDJmOWUxYmY3YjQ2IiwiYXBwaWRhY3IiOiIwIiwiZGV2aWNlaWQiOiJjNmQ3ODM0Yy1jNTNhLTRkNTUtOGNiZi0wM2IwYzdlZTdiMmYiLCJmYW1pbHlfbmFtZSI6Ik1pbmVsbGEiLCJnaXZlbl9uYW1lIjoiTWF1cm8iLCJncm91cHMiOlsiOWQ1NmZmNGUtNjI5My00MGM1LTg2ZmQtZWYyODVhZTlmNTY0IiwiYzNkYTQyOTEtOWExOC00NDI5LWE1ZjktOTlhYjFiMDU4NzUzIl0sImlkdHlwIjoidXNlciIsImlwYWRkciI6IjkzLjU2LjEwNC4yNDkiLCJuYW1lIjoiTWF1cm8gTWluZWxsYSIsIm9pZCI6IjY4YzRiZjFlLTdjNDktNGY5Mi1hOGY1LTBkMzMxODMxYzUxYSIsInB1aWQiOiIxMDAzMjAwM0FBRkM5OEM5IiwicHdkX3VybCI6Imh0dHBzOi8vcG9ydGFsLm1pY3Jvc29mdG9ubGluZS5jb20vQ2hhbmdlUGFzc3dvcmQuYXNweCIsInJoIjoiMS5BYjBBQmJuUU9xczBGa0dUMmNIY3d0TmE5cEFpTVgzSUtEeEhvTzJPVTNTYmJXMERBVUs5QUEuIiwic2NwIjoidXNlcl9pbXBlcnNvbmF0aW9uIiwic2lkIjoiMDAzZjVhZDktM2ZjMS0zNDI3LWUyMDMtZjM4NmVjMjdlZTliIiwic3ViIjoiV2p6Rm11MXczMEFSU2xLbk92Uzhxd3FPemY4U1lhZEtHMXZDS1NpNXZpNCIsInRpZCI6IjNhZDBiOTA1LTM0YWItNDExNi05M2Q5LWMxZGNjMmQzNWFmNiIsInVuaXF1ZV9uYW1lIjoibWF1cm8ubWluZWxsYUBNbmdFbnZNQ0FQODgzNjUyLm9ubWljcm9zb2Z0LmNvbSIsInVwbiI6Im1hdXJvLm1pbmVsbGFATW5nRW52TUNBUDg4MzY1Mi5vbm1pY3Jvc29mdC5jb20iLCJ1dGkiOiI0YUNuOEdNUFYwdXJnaUNtbURzNUFBIiwidmVyIjoiMS4wIiwid2lkcyI6WyIxNThjMDQ3YS1jOTA3LTQ1NTYtYjdlZi00NDY1NTFhNmI1ZjciLCI2MmU5MDM5NC02OWY1LTQyMzctOTE5MC0wMTIxNzcxNDVlMTAiLCJiNzlmYmY0ZC0zZWY5LTQ2ODktODE0My03NmIxOTRlODU1MDkiXSwieG1zX2lkcmVsIjoiMSAxNiJ9.VmuSZBytL8oUNZA7z9MFHb_AiCkKceKBoTRUsit8BHcVt6QQYxI7JI5KDOBgwmG5rbHow6L5Nq8Ht5T8Mq1zE-U8kFHG0Gc-TOPn5aStfyL8YIDZv2apqDLZzhqq8ZIeq1sBOqbgDP9mMwEJteWoY2n-xL1TavYctxYyiSCAoCxMRS69WX5QXbFHyHkQkOO_3WB-T1OlmfZqiOyrVyVKd0sttxHLS9IkrMxaUytS8-J8_sS8sktOnBfdupZh_szVdfvcSRPVKGUgq5YAFR2z3M3xoFXbkiqdFPS6GO_KbjbAt51Xu_fHqGt1gttas-hS1Q3mcvVZI6rUNuBzX0u3Ig

@azure_deployment_name = gpt-4.1
@openai_api_version = 2025-03-01-preview

###
# Invoking OpenAI
POST {{openai_endpoint}}/openai/deployments/{{azure_deployment_name}}/chat/completions?api-version={{openai_api_version}}
Authorization: Bearer {{token}}
Content-Type: application/json

{
    "messages": [
        {
            "role": "user",
            "content": "What is a meaning function? Please summarize in less than 20 words."
        }
    ]
}