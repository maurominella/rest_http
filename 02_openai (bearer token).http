# https://learn.microsoft.com/en-us/azure/ai-services/agents/quickstart?pivots=rest-api
# az account get-access-token --resource https://cognitiveservices.azure.com/

@token = eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiJodHRwczovL2NvZ25pdGl2ZXNlcnZpY2VzLmF6dXJlLmNvbS8iLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC8zYWQwYjkwNS0zNGFiLTQxMTYtOTNkOS1jMWRjYzJkMzVhZjYvIiwiaWF0IjoxNzQ4Mjc3NjcxLCJuYmYiOjE3NDgyNzc2NzEsImV4cCI6MTc0ODI4MTgyNSwiYWNyIjoiMSIsImFpbyI6IkFYUUFpLzhaQUFBQUx5RzAxei9EV3M5cUFzRGFrSmVjbGxTZDZXNGUwN3R3bm1oU09KUmdBNTRzSVFRejlGZkhQUy9YMk1PVmdNUUpiZnJDYVB4V3JnYVlqTHVTbXpYZWNsbDA2WFB1U0R6aWdyWEkxMGhZOGkzQmFtN0dBUE9EWEZETkprVXVMb3d6OHhFZVRHeG91TWQ5ZUpoMnVNQ3d2QT09IiwiYW1yIjpbInB3ZCIsInJzYSIsIm1mYSJdLCJhcHBpZCI6IjA0YjA3Nzk1LThkZGItNDYxYS1iYmVlLTAyZjllMWJmN2I0NiIsImFwcGlkYWNyIjoiMCIsImRldmljZWlkIjoiYzZkNzgzNGMtYzUzYS00ZDU1LThjYmYtMDNiMGM3ZWU3YjJmIiwiZmFtaWx5X25hbWUiOiJNaW5lbGxhIiwiZ2l2ZW5fbmFtZSI6Ik1hdXJvIiwiZ3JvdXBzIjpbImMzZGE0MjkxLTlhMTgtNDQyOS1hNWY5LTk5YWIxYjA1ODc1MyIsIjlkNTZmZjRlLTYyOTMtNDBjNS04NmZkLWVmMjg1YWU5ZjU2NCJdLCJpZHR5cCI6InVzZXIiLCJpcGFkZHIiOiIxMzcuMTE3LjIwNS4xOTAiLCJuYW1lIjoiTWF1cm8gTWluZWxsYSIsIm9pZCI6IjY4YzRiZjFlLTdjNDktNGY5Mi1hOGY1LTBkMzMxODMxYzUxYSIsInB1aWQiOiIxMDAzMjAwM0FBRkM5OEM5IiwicmgiOiIxLkFiMEFCYm5RT3FzMEZrR1QyY0hjd3ROYTlwQWlNWDNJS0R4SG9PMk9VM1NiYlcwREFVSzlBQS4iLCJzY3AiOiJ1c2VyX2ltcGVyc29uYXRpb24iLCJzaWQiOiIwMDNmNWFkOS0zZmMxLTM0MjctZTIwMy1mMzg2ZWMyN2VlOWIiLCJzdWIiOiJXanpGbXUxdzMwQVJTbEtuT3ZTOHF3cU96ZjhTWWFkS0cxdkNLU2k1dmk0IiwidGlkIjoiM2FkMGI5MDUtMzRhYi00MTE2LTkzZDktYzFkY2MyZDM1YWY2IiwidW5pcXVlX25hbWUiOiJtYXVyby5taW5lbGxhQE1uZ0Vudk1DQVA4ODM2NTIub25taWNyb3NvZnQuY29tIiwidXBuIjoibWF1cm8ubWluZWxsYUBNbmdFbnZNQ0FQODgzNjUyLm9ubWljcm9zb2Z0LmNvbSIsInV0aSI6IjEtcThXaW5WRFU2c3NHNGZ0TFF1QUEiLCJ2ZXIiOiIxLjAiLCJ3aWRzIjpbIjYyZTkwMzk0LTY5ZjUtNDIzNy05MTkwLTAxMjE3NzE0NWUxMCIsIjE1OGMwNDdhLWM5MDctNDU1Ni1iN2VmLTQ0NjU1MWE2YjVmNyIsImI3OWZiZjRkLTNlZjktNDY4OS04MTQzLTc2YjE5NGU4NTUwOSJdLCJ4bXNfZnRkIjoiV1dmQUx2cjU3am9LQWc1NUNmVl9VWnJMbGVyaHhQaDJmS0ZWOFZrS3EyRUJkWE51YjNKMGFDMWtjMjF6IiwieG1zX2lkcmVsIjoiMTggMSJ9.KKHTJjlemLZS6Saw7n9o4TipmiMXpJlGBLVIaoy1o1YqkatytnYe19lawHPZATKn6XThyFW_1KgFUZ3unFc4o7MSeFb6TYkc1vNo6ktQK2GF6ohBylW54uAzTo_a9RHQZHdd-KEH0Xf2fULvYgSHpS2_1a1AfyDGX8voWoY4bimBfeDkkOKh0jfoSbD8APd4CzVKoYTgneqHHRc-cQ_6bVPXa-jESb65szyd-2_DlbT3U9iGFpGNh9iNnx1ls7t5RVeB0gnbIrRWcDzUVeaua8NssSA434Dq-Z0aOdA_jvq3S3DqrbO5BXPVnHL2DAEHPCdhJiaSe5puDV6cL7Wsrw

@azure_deployment_name = gpt-4o
@openai_api_version = 2025-03-01-preview

###
# Invoking OpenAI
POST {{AZURE_OPENAI_ENDPOINT}}/openai/deployments/{{azure_deployment_name}}/chat/completions?api-version={{openai_api_version}}
Authorization: Bearer {{token}}
Content-Type: application/json

{
    "messages": [
        {
            "role": "user",
            "content": "What is a meaning function? Please summarize in less than 20 words."
        }
    ]
}
