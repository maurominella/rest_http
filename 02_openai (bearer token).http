# https://learn.microsoft.com/en-us/azure/ai-services/agents/quickstart?pivots=rest-api
# az account get-access-token --resource https://ml.azure.com/ 
# az account get-access-token --resource https://openai.azure.com/

@token = eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSIsImtpZCI6IkNOdjBPSTNSd3FsSEZFVm5hb01Bc2hDSDJYRSJ9.eyJhdWQiOiJodHRwczovL21sLmF6dXJlLmNvbS8iLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC8zYWQwYjkwNS0zNGFiLTQxMTYtOTNkOS1jMWRjYzJkMzVhZjYvIiwiaWF0IjoxNzQ1NDIzODgyLCJuYmYiOjE3NDU0MjM4ODIsImV4cCI6MTc0NTQyODQ3OSwiYWNyIjoiMSIsImFpbyI6IkFZUUFlLzhaQUFBQVl4MHh0RXBZdFhzWllzNkVUOGFXNHVjays4elczRE9QZGtxUEdkNU5weUNoMlNXV3pXU0ViTkVxMEg1ZFgxK2hHRDRQMkNZVHZZY3l1VHV5ZFpzTTZnOFhzeU85anJvOERkaFQ2YTh4OEMxeWRkd0Y3NytDZWdpZmd1NS90bzI5dmVBRDZlQW5JMFpPajkxalNySHBhZDdsSjR6QWwyWnBEbEt1QWZqdUVndz0iLCJhbXIiOlsicHdkIiwicnNhIiwibWZhIl0sImFwcGlkIjoiMDRiMDc3OTUtOGRkYi00NjFhLWJiZWUtMDJmOWUxYmY3YjQ2IiwiYXBwaWRhY3IiOiIwIiwiZGV2aWNlaWQiOiJjNmQ3ODM0Yy1jNTNhLTRkNTUtOGNiZi0wM2IwYzdlZTdiMmYiLCJmYW1pbHlfbmFtZSI6Ik1pbmVsbGEiLCJnaXZlbl9uYW1lIjoiTWF1cm8iLCJncm91cHMiOlsiOWQ1NmZmNGUtNjI5My00MGM1LTg2ZmQtZWYyODVhZTlmNTY0IiwiYzNkYTQyOTEtOWExOC00NDI5LWE1ZjktOTlhYjFiMDU4NzUzIl0sImlkdHlwIjoidXNlciIsImlwYWRkciI6IjkzLjU2LjEwNC4yNDkiLCJuYW1lIjoiTWF1cm8gTWluZWxsYSIsIm9pZCI6IjY4YzRiZjFlLTdjNDktNGY5Mi1hOGY1LTBkMzMxODMxYzUxYSIsInB1aWQiOiIxMDAzMjAwM0FBRkM5OEM5IiwicHdkX3VybCI6Imh0dHBzOi8vcG9ydGFsLm1pY3Jvc29mdG9ubGluZS5jb20vQ2hhbmdlUGFzc3dvcmQuYXNweCIsInJoIjoiMS5BYjBBQmJuUU9xczBGa0dUMmNIY3d0TmE5bDl2cGhqZjJ4ZE1uZGNXTkhFcW5MNERBVUs5QUEuIiwic2NwIjoidXNlcl9pbXBlcnNvbmF0aW9uIiwic2lkIjoiMDAzZjVhZDktM2ZjMS0zNDI3LWUyMDMtZjM4NmVjMjdlZTliIiwic3ViIjoiMk8zaHlhaGFTaG9LcVFsbTFldEtCSHY4NHJqZFJDQ1RJN0xRZHFmM2t1NCIsInRpZCI6IjNhZDBiOTA1LTM0YWItNDExNi05M2Q5LWMxZGNjMmQzNWFmNiIsInVuaXF1ZV9uYW1lIjoibWF1cm8ubWluZWxsYUBNbmdFbnZNQ0FQODgzNjUyLm9ubWljcm9zb2Z0LmNvbSIsInVwbiI6Im1hdXJvLm1pbmVsbGFATW5nRW52TUNBUDg4MzY1Mi5vbm1pY3Jvc29mdC5jb20iLCJ1dGkiOiI5SEw2anByaUIwV2o0Y2R3Q0FoYkFBIiwidmVyIjoiMS4wIiwieG1zX2lkcmVsIjoiMSAxMCJ9.axUTV3kmyQkcXmiWZlJUIoCf_1FxKEIw2u4lQhy5z_1SNzk6NcaQ6vlif_uT3vBHT4B_aTF4LvFHEuHpq60S0Pfc1qVSts0g_VEigIrwmGcz2X4ZgpcNYbKyLhjRxe7U3Riv6j73BLhW24gH8FM740wK3PEe0kUek3o_eBiQQBbuYBiAEGzQNZdXlXUDiDSdk7krlJ5hJsUUbcCzxnjUm0nO5K7fF5HFZFxt_nnYxEo7kRUnmYidcRGtT4_3mzTYhtpqb-PUzP8h3wbqRlKwuxa3O2kwlzJttaxX3eEVWgbCTm0tOkEwWGyUc-yjEInMDTfI_Mx7QoqjOYiLDjJGZQ

@azure_deployment_name = gpt-4.1
@openai_api_version = 2025-03-01-preview

###
# Invoking OpenAI
POST {{openai_endpoint}}/openai/deployments/{{azure_deployment_name}}/chat/completions?api-version={{openai_api_version}}
Authorization: Bearer {{token}}
Content-Type: application/json

{
    "messages": [
        {
            "role": "user",
            "content": "What is a meaning function? Please summarize in less than 20 words."
        }
    ]
}